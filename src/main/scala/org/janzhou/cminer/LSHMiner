package org.janzhou.cminer

import info.debatty.java.lsh.LSHSuperBit

class LSHMiner (
  val minSupport:Double = 0.1,
  val splitSize:Int = 512,
  val depth:Int = 64
) extends CMiner (minSupport, split, depth) {

  private val n = 100 // Size of vectors
  private val stages = 2 // the number of stages is also sometimes called thge number of bands
  private val buckets = 10;
  private val lsh = new LSHSuperBit(stages, buckets, n)


  override def mine(seq:List[Int]):List[List[Int]] = {
    val correlations = super.mine(seq)
    correlations.foreach( seq => {
      print(lsh.hash(seq._2.toArray))
      println(seq._2)
    })
  }
}
